指定されたファイルのコードを簡素化・リファクタリングしてください。

対象: $ARGUMENTS

## 簡素化の方針

1. **冗長なコードの削除**: 未使用の変数、到達不能コード、重複ロジック
2. **可読性の向上**: 複雑な条件分岐の整理、適切な命名への変更
3. **モダンな書き方への変換**: 古い構文をモダンなパターンに置換
4. **構造の改善**: 長すぎる関数の分割、責務の明確化

## ルール

- 動作を変えない（リファクタリングのみ）
- 変更箇所ごとに理由を説明する
- 一度に大きく変えすぎない
